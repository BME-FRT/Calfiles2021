;last modified 2021. 02. 14. 13:56:10 by pungorpeter    (1)

[2021_TestData]

[Coast]    //no brake force & no throttle & the car is Not standing
bool1=If(#Brake_Pressure_Front,<,20,0,1)
bool2=If(#Throttle_Position_1,<,5,0,1)
Coast=+(#bool2,#bool1)
bool3=If(#Throttle_Position_2,<,5,0,1)
Coast=+(#bool3,#Coast)
Coast=If(#Coast,=,0,0.05,0)
bool=If(#AMK_ActualVelocity_3,<,10,0,1)
Coast=*(#bool,#Coast)
Delete(#bool1)
Delete(#bool2)
Delete(#bool3)
Delete(#bool)
Coast=Set(DIM='-')

[INT_Coast]
INT_Coast=Integrate(#Coast,0)
INT_Coast=/(#Coast,Parameters.CIRCUIT_LENGTH)
INT_Coast=Set(Dim='s/m)

[INT_Throttle]
Throttle=+(#Throttle_Position_1,#Throttle_Position_2)
Throttle=/(#Throttle,2)
INT_Throttle=Integrate(#Throttle,0)
INT_Throttle=/(#Throttle,Parameters.CIRCUIT_LENGTH)
Delete(#Throttle)

[INT_BrakeForce]
INT_BrakeForce=Integrate(#Brake_Force_corrected,0)
INT_BrakeForce=Set(DIM='-')

[Throttle_Steering]
Throttle_Steering=+(#Throttle_Position_1,#Throttle_Position_2)
Throttle_Steering=/(#Throttle_Steering,2)
SteeringAngle_tmp=+(#Steering_Angle_1,#Steering_Angle_2)
SteeringAngle_tmp=/(#SteeringAngle_tmp,2)
SteeringAngle_tmp=Abs(#SteeringAngle_tmp)
Throttle_Steering=*(#Throttle_Steering,#SteeringAngle_tmp)
Throttle_Steering=If(#SteeringAngle_tmp,>,30,#Throttle_Steering,0)
ThrottleSteering=Set(DIM='°*%')

[INT_Throttle_Steering]

INT_ThrottleSteering=Integrate(#ThrottleSteering,0)
INT_ThrottleSteering=/(#ThrottleSteering,Parameters.CIRCUIT_LENGTH)
INT_ThrottleSteering=Set(Dim='°*%*s/m)

/////INT Steering_Angle

INT_Steering_Angle=Integrate(#SteeringAngle_tmp,0)
INT_Steering_Angle=/(#INT_SteeringAngle,Parameters.CIRCUIT_LENGTH)
INT_Steering_Angle=Set(DIM='°*s/m')

Delete(#SteeringAngle_tmp)

[OS_US]
INT_OS_US=/(#Acceleration_Y_Front,#VehicleSpeed)
INT_OS_US=*(2023.5,#INT_OS_US)                      //const=3.6*180/PI*g
INT_OS_US=/(#Yaw_Rate_Filtered,#INT_OS_US)
INT_OS_US=-(#INT_OS_US,1)
INT_OS_US=If(#VehicleSpeed,>,5,#INT_OS_US,0)
INT_OS_US=Word(#INT_OS_US,-5,5)
INT_OS_US=Integrate(#INT_OS_US)
INT_OS_US=Set(DIM='-')

